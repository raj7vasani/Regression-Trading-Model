# Trading Strategy Using Multiple Linear Regression Model

## Introduction

Welcome to the trading strategy project where we develop a predictive model to forecast stock movements using multiple linear regression. The goal is to leverage historical stock data from multiple global indices to predict the next-day returns of the SPY (S&P 500 ETF), enabling us to develop a simple trading strategy.

## Data Understanding

We use the following datasets, representing stock market indices:

- **ALLOrdinary.csv**: Australian stock market data.
- **Nikkei225.csv**: Japanese stock market data.
- **HSI.csv**: Hong Kong stock market data.
- **DAXI.csv**: German stock market data.
- **CAC40.csv**: French stock market data.
- **SP500.csv**: S&P 500 index data.
- **DJI.csv**: Dow Jones Industrial Average data.
- **Nasdaq_composite.csv**: Nasdaq composite index data.
- **SPY.csv**: S&P 500 ETF data.

## Data Preprocessing

We preprocess the data by:

1. Calculating the price change (Open - Close) for each index.
2. Handling missing values using forward-fill and dropping remaining NaNs.
3. Creating lag variables for SPY to use as input in our model.

The final dataset, `indicepanel`, includes the following features:

- `spy`: Next day SPY price change.
- `spy_lag1`: Lagged value of SPY.
- `sp500`, `nasdaq`, `dji`, `cac40`, `aord`, `daxi`, `nikkei`, `hsi`: Daily price changes of respective indices.

## Model Training

We split the data into training and testing sets:

- **Training set**: Data from the first 2000 records.
- **Testing set**: Data from the last 1000 records.

A multiple linear regression model is trained with the following formula:


` spy ~ spy\_lag1 + sp500 + nasdaq + dji + cac40 + aord + daxi + nikkei + hsi`


## Strategy Implementation

We implemented a signal-based trading strategy by placing buy orders when the predicted SPY price change is positive and sell orders when negative. The performance is compared with a simple "Buy and Hold" strategy.

### Profit Calculation:

- **Train Set**:  
    - We generate trading signals based on the predicted SPY price movements.  
    - **Total profit made in Train**: 214.34

- **Test Set**:  
    - We apply the same logic to the test set for performance evaluation.  
    - **Total profit made in Test**: 241.03

### Visualization:

We visualize the cumulative wealth generated by the signal-based strategy compared to a "Buy and Hold" strategy on both training and test sets.

## Model Evaluation - Statistical Standard

To assess the performance of the model, we use the following statistical metrics:

- **RMSE** (Root Mean Squared Error): Measures the modelâ€™s prediction error.
- **Adjusted $R^2$**: Evaluates how well the model explains the variability of SPY returns.

## Strategy Evaluation - Practical Standard

We use two practical metrics to evaluate the trading strategy:

# Sharpe Ratio
- **Train Set**:  
  - **Daily Sharpe Ratio**: 0.1797  
  - **Yearly Sharpe Ratio**: 2.8519  
- **Test Set**:  
  - **Daily Sharpe Ratio**: 0.1304  
  - **Yearly Sharpe Ratio**: 2.0693  

The Sharpe ratio is computed as:

Daily Sharpe Ratio = mean / standard deviation  
Yearly Sharpe Ratio = sqrt(252) * (mean / standard deviation)

# Maximum Drawdown
- **Train Set**: Maximum Drawdown = 0.0607  
- **Test Set**: Maximum Drawdown = 0.1172  

The maximum drawdown is calculated as:

Max Drawdown = (Peak - Wealth) / Peak


## Deployment

We use the model to predict SPY movements on the test set and visualize the actual vs predicted values using scatter plots. Based on the performance, we can further refine the strategy or use it as a basis for future trading decisions.

## Files

- **README.md**: Overview of the project.
- **trading_strategy.ipynb**: Jupyter Notebook containing data preprocessing, model training, and evaluation.
- **indicepanel.csv**: Preprocessed stock market data.
- **TestData.csv**: Data used to test the model predictions.

## Project Developed By

This project was developed by Raj Vasani.
